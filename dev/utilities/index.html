<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Utilities · PeriodicGraphs.jl</title><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.044/juliamono.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.11/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../">PeriodicGraphs.jl</a></span></div><form class="docs-search" action="../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li><span class="tocitem">Basics</span><ul><li><a class="tocitem" href="../types/">Types</a></li><li><a class="tocitem" href="../neighborhood/">Neighborhood</a></li></ul></li><li><a class="tocitem" href="../symmetries/">Symmetries</a></li><li><span class="tocitem">Algorithms</span><ul><li><a class="tocitem" href="../dimension/">Dimensionality</a></li><li><a class="tocitem" href="../rings/">Rings</a></li></ul></li><li class="is-active"><a class="tocitem" href>Utilities</a><ul class="internal"><li><a class="tocitem" href="#Hashing"><span>Hashing</span></a></li><li><a class="tocitem" href="#Isomorphic-transformations"><span>Isomorphic transformations</span></a></li><li><a class="tocitem" href="#Dimension-reduction"><span>Dimension reduction</span></a></li><li><a class="tocitem" href="#Arithmetics"><span>Arithmetics</span></a></li><li><a class="tocitem" href="#Unclassified-other-utilities"><span>Unclassified other utilities</span></a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Utilities</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Utilities</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/Liozou/PeriodicGraphs.jl/blob/master/docs/src/utilities.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="Utilities"><a class="docs-heading-anchor" href="#Utilities">Utilities</a><a id="Utilities-1"></a><a class="docs-heading-anchor-permalink" href="#Utilities" title="Permalink"></a></h1><h2 id="Hashing"><a class="docs-heading-anchor" href="#Hashing">Hashing</a><a id="Hashing-1"></a><a class="docs-heading-anchor-permalink" href="#Hashing" title="Permalink"></a></h2><p>It is sometimes convenient to be able to associate to each vertex of periodic graph <code>g</code> an integer hash, such that the hashes of vertices in the reference unit cell are between 1 and <code>nv(g)</code>, the hashes of the vertices in the unit cells around the reference are next, then the vertices of the unit cells around those, etc. To do so, <code>PeriodicGraphs.jl</code> export the <code>hash_position</code> function as follows:</p><article class="docstring"><header><a class="docstring-binding" id="PeriodicGraphs.hash_position" href="#PeriodicGraphs.hash_position"><code>PeriodicGraphs.hash_position</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">hash_position(x::PeriodicVertex{N}, n::Integer) where N</code></pre><p>Given <code>x</code>, a <code>PeriodicVertex{N}</code>, and the number <code>n</code> of vertex identifiers in a graph, compute a unique positive integer hash for the given vertex.</p><p>This hash function is a bijection between the set of all the vertices of the periodic graph and the set of positive integers. Its value is an integer between <code>1+n*(2d-1)^N</code> (or <code>1</code> if <code>d == 0</code>) and <code>n*(2d+1)^N</code>, where <code>d = maximum(abs.(x.ofs))</code>.</p><p>In particular, this means that when one unit cell B is further than another A from the origin (for the Manhattan distance), all vertices in B have a larger hash than all vertices in A.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Liozou/PeriodicGraphs.jl/blob/a0e2753f77a939cdb3837abe712bd7ad38da7f05/src/definitions/vertices.jl#L118-L131">source</a></section></article><p>The reciproque function is also exported:</p><article class="docstring"><header><a class="docstring-binding" id="PeriodicGraphs.reverse_hash_position" href="#PeriodicGraphs.reverse_hash_position"><code>PeriodicGraphs.reverse_hash_position</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">reverse_hash_position(hash::Integer, n::Integer, ::Val{N}) where N</code></pre><p>Given a <code>hash</code> obtained from <a href="#PeriodicGraphs.hash_position"><code>hash_position</code></a><code>(x, n)</code> where <code>x</code> is a <code>PeriodicVertex{N}</code>, return the corresponding <code>x</code>.</p><p>If the offset of the returned <code>PeriodicVertex</code> is not needed, simply doing <code>mod1(x, n)</code> yields the identifier of the vertex and is faster.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Liozou/PeriodicGraphs.jl/blob/a0e2753f77a939cdb3837abe712bd7ad38da7f05/src/definitions/vertices.jl#L178-L186">source</a></section></article><p>Both functions are optimized for dimensions 1, 2 and 3, especially for unit cells not too far from the reference.</p><h2 id="Isomorphic-transformations"><a class="docs-heading-anchor" href="#Isomorphic-transformations">Isomorphic transformations</a><a id="Isomorphic-transformations-1"></a><a class="docs-heading-anchor-permalink" href="#Isomorphic-transformations" title="Permalink"></a></h2><p>Several functions transform a periodic graph into another isomorphic to the input, by renumbering the vertices (<a href="#PeriodicGraphs.vertex_permutation"><code>vertex_permutation</code></a>) or the axes (<a href="#PeriodicGraphs.swap_axes!"><code>swap_axes!</code></a>), or by offsetting the chosen representatives for each vertex (<a href="#PeriodicGraphs.offset_representatives!"><code>offset_representatives!</code></a>).</p><article class="docstring"><header><a class="docstring-binding" id="PeriodicGraphs.vertex_permutation" href="#PeriodicGraphs.vertex_permutation"><code>PeriodicGraphs.vertex_permutation</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">vertex_permutation(g::PeriodicGraph, vlist)</code></pre><p>Return the <code>PeriodicGraph</code> corresponding to <code>g</code> with its vertices identifiers permuted according to <code>vlist</code>. <code>isperm(vlist)</code> must hold and will not be checked.</p><p>See also <code>Graphs.induced_subgraph</code> for the more general case where <code>vlist</code> is not a permutation.</p><div class="admonition is-info"><header class="admonition-header">Note</header><div class="admonition-body"><p>The resulting graph is isomorphic to the initial one, only the representation has changed.</p></div></div></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Liozou/PeriodicGraphs.jl/blob/a0e2753f77a939cdb3837abe712bd7ad38da7f05/src/utils/graphsAPI.jl#L238-L250">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="PeriodicGraphs.swap_axes!" href="#PeriodicGraphs.swap_axes!"><code>PeriodicGraphs.swap_axes!</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">swap_axes!(g::PeriodicGraph, t)</code></pre><p>In-place modifies graph <code>g</code> so that the new initial cell corresponds to the previous one with its axes swapped according to the permutation <code>t</code>.</p><div class="admonition is-info"><header class="admonition-header">Note</header><div class="admonition-body"><p>The resulting graph is isomorphic to the initial one, only the representation has changed.</p></div></div></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Liozou/PeriodicGraphs.jl/blob/a0e2753f77a939cdb3837abe712bd7ad38da7f05/src/algorithms/other.jl#L40-L49">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="PeriodicGraphs.offset_representatives!" href="#PeriodicGraphs.offset_representatives!"><code>PeriodicGraphs.offset_representatives!</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">offset_representatives!(g::PeriodicGraph, offsets)</code></pre><p>In-place modifies graph <code>g</code> so that the <code>i</code>-th vertex of the new initial cell corresponds to the <code>i</code>-th vertex in cell <code>offsets[i]</code> compared to the previous initial cell.</p><div class="admonition is-info"><header class="admonition-header">Note</header><div class="admonition-body"><p>The resulting graph is isomorphic to the initial one, only the representation has changed.</p></div></div></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Liozou/PeriodicGraphs.jl/blob/a0e2753f77a939cdb3837abe712bd7ad38da7f05/src/algorithms/other.jl#L9-L18">source</a></section></article><h2 id="Dimension-reduction"><a class="docs-heading-anchor" href="#Dimension-reduction">Dimension reduction</a><a id="Dimension-reduction-1"></a><a class="docs-heading-anchor-permalink" href="#Dimension-reduction" title="Permalink"></a></h2><p>Any <code>PeriodicGraph</code> can be naturally reduced to an aperiodic graph by removing all offsets from the edges and either keeping (<a href="#PeriodicGraphs.quotient_graph"><code>quotient_graph</code></a>) or removing (<a href="#PeriodicGraphs.truncated_graph"><code>truncated_graph</code></a>) edges crossing from one unit cell to another.</p><article class="docstring"><header><a class="docstring-binding" id="PeriodicGraphs.quotient_graph" href="#PeriodicGraphs.quotient_graph"><code>PeriodicGraphs.quotient_graph</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">quotient_graph(g::PeriodicGraph)</code></pre><p>Extract a simple graph from <code>g</code> by removing all indications of offset in the edges. This means that edges that used to cross the boundaries of the initial cell now bind the source vertex to the representative of the destination vertex that is in the initial cell.</p><p>Note that these modified edges may turn into loops.</p><p>See also <a href="#PeriodicGraphs.truncated_graph"><code>truncated_graph</code></a> to remove all of these edges and <a href="#PeriodicGraphs.slice_graph"><code>slice_graph</code></a> to keep only some of these edges.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Liozou/PeriodicGraphs.jl/blob/a0e2753f77a939cdb3837abe712bd7ad38da7f05/src/algorithms/other.jl#L83-L95">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="PeriodicGraphs.truncated_graph" href="#PeriodicGraphs.truncated_graph"><code>PeriodicGraphs.truncated_graph</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">truncated_graph(g::PeriodicGraph)</code></pre><p>Extract a simple graph from <code>g</code> by only keeping the edges that are strictly within the initial cell.</p><p>See also <a href="#PeriodicGraphs.quotient_graph"><code>quotient_graph</code></a> to keep all of these edges and <a href="#PeriodicGraphs.slice_graph"><code>slice_graph</code></a> to keep only some of these edges.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Liozou/PeriodicGraphs.jl/blob/a0e2753f77a939cdb3837abe712bd7ad38da7f05/src/algorithms/other.jl#L67-L75">source</a></section></article><p>It is also possible to reduce the dimension of a graph by removing only some selected offsets with the <a href="#PeriodicGraphs.slice_graph"><code>slice_graph</code></a> function.</p><article class="docstring"><header><a class="docstring-binding" id="PeriodicGraphs.slice_graph" href="#PeriodicGraphs.slice_graph"><code>PeriodicGraphs.slice_graph</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">slice_graph(g::PeriodicGraph{D}, remove::Union{SVector{N},NTuple{N}}) where {D,N}</code></pre><p>Extract a <code>PeriodicGraph{D-N}</code> from <code>g</code> by removing all edges that have an offset <code>o</code> such that <code>!iszero(o[remove])</code> and shrinking the resulting offsets. In other words, remove the dimensions in <code>remove</code>.</p><p>To only remove the edges while keeping the same number of dimensions, use <a href="#PeriodicGraphs.slice_graph"><code>slice_graph(g, collect(remove))</code></a></p><p><code>remove</code> is assumed to be sorted and to contain unique elements.</p><div class="admonition is-warning"><header class="admonition-header">Warning</header><div class="admonition-body"><p>No verification of the previous assumption will be performed.</p></div></div></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Liozou/PeriodicGraphs.jl/blob/a0e2753f77a939cdb3837abe712bd7ad38da7f05/src/algorithms/other.jl#L102-L116">source</a></section><section><div><pre><code class="nohighlight hljs">slice_graph(g::PeriodicGraph{D}, remove::Vector{&lt;:Integer}) where D</code></pre><p>Extract a <code>PeriodicGraph{D}</code> from <code>g</code> by removing all edges that have an offset <code>o</code> such that <code>!iszero(o[remove])</code>.</p><p>Contrarily to the <a href="#PeriodicGraphs.slice_graph"><code>slice_graph(g::PeriodicGraph{D}, remove::Union{SVector{N},NTuple{N}}) where {D,N}</code></a> method, the dimensions along which the edges are erased are still kept here.</p><p><code>remove</code> is assumed to be sorted and to contain unique elements.</p><div class="admonition is-warning"><header class="admonition-header">Warning</header><div class="admonition-body"><p>No verification of the previous assumption will be performed.</p></div></div></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Liozou/PeriodicGraphs.jl/blob/a0e2753f77a939cdb3837abe712bd7ad38da7f05/src/algorithms/other.jl#L139-L152">source</a></section></article><h2 id="Arithmetics"><a class="docs-heading-anchor" href="#Arithmetics">Arithmetics</a><a id="Arithmetics-1"></a><a class="docs-heading-anchor-permalink" href="#Arithmetics" title="Permalink"></a></h2><p>These utilities are internally used for dimensionality computations, but may be useful in other contexts.</p><article class="docstring"><header><a class="docstring-binding" id="PeriodicGraphs.extended_gcd" href="#PeriodicGraphs.extended_gcd"><code>PeriodicGraphs.extended_gcd</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">extended_gcd(s)::Tuple{BigInt, Vector{BigInt}}</code></pre><p>Given a list of integers, return a tuple <code>(d, coefs)</code> where <code>d</code> is the gcd of these integers and <code>coefs</code> is a list of integers such that <code>dot(s, coefs) == d</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Liozou/PeriodicGraphs.jl/blob/a0e2753f77a939cdb3837abe712bd7ad38da7f05/src/algorithms/dimensionality.jl#L63-L68">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="PeriodicGraphs.normal_basis" href="#PeriodicGraphs.normal_basis"><code>PeriodicGraphs.normal_basis</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">normal_basis(l::AbstractVector{&lt;:StaticVector{N,T}}) where {N,T&lt;:Integer}</code></pre><p>Given a list of integer vectors of dimension <code>N</code>, return a tuple <code>(mat, D)</code> where <code>D</code> is the dimension of the space spanned by the input vectors, and <code>mat</code> is an invertible matrix whose <code>D</code> first columns form a basis of this spanned space, which does not depend on the exact input.</p><p>If <code>D ≠ N</code>, the remaining columns are set so that <code>mat</code> be invertible. Nothing else is specified about these columns, and in particular you should not assume that they are independent of the input.</p><div class="admonition is-warning"><header class="admonition-header">Warning</header><div class="admonition-body"><p>If modifiable, the input list will be modified in-place during this process.</p></div></div></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Liozou/PeriodicGraphs.jl/blob/a0e2753f77a939cdb3837abe712bd7ad38da7f05/src/algorithms/dimensionality.jl#L122-L136">source</a></section></article><h2 id="Unclassified-other-utilities"><a class="docs-heading-anchor" href="#Unclassified-other-utilities">Unclassified other utilities</a><a id="Unclassified-other-utilities-1"></a><a class="docs-heading-anchor-permalink" href="#Unclassified-other-utilities" title="Permalink"></a></h2><p>These other convenience functions may be useful for the manipulation of <code>PeriodicGraph</code>s:</p><article class="docstring"><header><a class="docstring-binding" id="PeriodicGraphs.find_edges" href="#PeriodicGraphs.find_edges"><code>PeriodicGraphs.find_edges</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">find_edges(g::PeriodicGraph, s::Int, d::Int)</code></pre><p>Return the set of PeriodicVertex <code>v</code> of graph <code>g</code> such that there is an edge between a source vertex of identifier <code>s</code> and <code>v</code>, and the identifier of <code>v</code> is <code>d</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Liozou/PeriodicGraphs.jl/blob/a0e2753f77a939cdb3837abe712bd7ad38da7f05/src/utils/graphsAPI.jl#L24-L29">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="PeriodicGraphs.coordination_sequence" href="#PeriodicGraphs.coordination_sequence"><code>PeriodicGraphs.coordination_sequence</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">coordination_sequence(g::PeriodicGraph, v::Integer, dmax)</code></pre><p>Compute the list of numbers of <code>n</code>-th neighbors of vertex <code>v</code> in graph <code>g</code>, for <code>1 ≤ n ≤ dmax</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Liozou/PeriodicGraphs.jl/blob/a0e2753f77a939cdb3837abe712bd7ad38da7f05/src/algorithms/neighborhood.jl#L141-L146">source</a></section></article></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../rings/">« Rings</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.19 on <span class="colophon-date" title="Thursday 23 June 2022 09:52">Thursday 23 June 2022</span>. Using Julia version 1.6.6.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
